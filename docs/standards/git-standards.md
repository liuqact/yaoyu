# Git 规范文档

## 1. 分支管理规范

### 1.1 分支命名规范
- 主分支：`main`
- 开发分支：`dev`
- 功能分支：`feature/功能名称`
- 修复分支：`hotfix/问题描述`
- 发布分支：`release/版本号`

### 1.2 分支使用规范
- `main`：主分支，用于生产环境
- `dev`：开发分支，用于开发环境
- `feature/*`：功能分支，用于开发新功能
- `hotfix/*`：修复分支，用于修复生产环境问题
- `release/*`：发布分支，用于版本发布

### 1.3 分支合并规范
- 功能分支合并到 `dev` 分支
- `dev` 分支合并到 `release` 分支
- `release` 分支合并到 `main` 分支
- 修复分支合并到 `main` 和 `dev` 分支

## 2. 提交信息规范

### 2.1 提交信息格式
```
<类型>(<范围>): <描述>

[可选的正文]

[可选的脚注]
```

### 2.2 提交类型
- `feat`：新功能
- `fix`：修复问题
- `docs`：文档更新
- `style`：代码格式（不影响代码运行的变动）
- `refactor`：重构（既不是新增功能，也不是修改bug的代码变动）
- `perf`：性能优化
- `test`：增加测试
- `chore`：构建过程或辅助工具的变动

### 2.3 提交范围
- 模块名称
- 功能名称
- 文件名称

### 2.4 提交描述
- 使用现在时态
- 使用命令式语气
- 首字母不要大写
- 结尾不要加句号

### 2.5 提交示例
```
feat(user): 添加用户登录功能

- 实现手机号登录
- 实现微信登录
- 添加登录日志

Closes #123
```

## 3. 代码审查规范

### 3.1 审查内容
- 代码规范
- 功能完整性
- 性能问题
- 安全问题
- 测试覆盖

### 3.2 审查流程
1. 提交代码审查请求
2. 指定审查人
3. 审查人进行代码审查
4. 根据审查意见修改代码
5. 审查通过后合并代码

### 3.3 审查标准
- 代码是否符合规范
- 功能是否完整
- 是否有潜在问题
- 是否有性能问题
- 是否有安全问题

## 4. 版本管理规范

### 4.1 版本号规范
- 主版本号：不兼容的API修改
- 次版本号：向下兼容的功能性新增
- 修订号：向下兼容的问题修正

### 4.2 版本发布流程
1. 创建发布分支
2. 进行版本测试
3. 修复发现的问题
4. 更新版本号
5. 合并到主分支
6. 打标签

### 4.3 版本回滚
- 记录回滚原因
- 记录回滚版本
- 记录回滚时间
- 记录回滚人

## 5. 工作流程规范

### 5.1 开发流程
1. 从 `dev` 分支创建功能分支
2. 在功能分支上开发
3. 提交代码到功能分支
4. 创建合并请求
5. 代码审查
6. 合并到 `dev` 分支

### 5.2 发布流程
1. 从 `dev` 分支创建发布分支
2. 在发布分支上测试
3. 修复问题
4. 更新版本号
5. 合并到 `main` 分支
6. 打标签

### 5.3 修复流程
1. 从 `main` 分支创建修复分支
2. 在修复分支上修复问题
3. 提交代码到修复分支
4. 创建合并请求
5. 代码审查
6. 合并到 `main` 和 `dev` 分支

## 6. 工具使用规范

### 6.1 Git 配置
```bash
# 配置用户信息
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"

# 配置换行符
git config --global core.autocrlf input

# 配置编辑器
git config --global core.editor vim
```

### 6.2 常用命令
```bash
# 创建分支
git checkout -b feature/new-feature

# 提交代码
git add .
git commit -m "feat: 添加新功能"

# 推送代码
git push origin feature/new-feature

# 拉取代码
git pull origin dev

# 合并分支
git merge feature/new-feature
```

### 6.3 标签管理
```bash
# 创建标签
git tag -a v1.0.0 -m "版本1.0.0"

# 推送标签
git push origin v1.0.0

# 删除标签
git tag -d v1.0.0
git push origin :refs/tags/v1.0.0
``` 